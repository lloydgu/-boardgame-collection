<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê°åÊ∏∏Êî∂ËóèÁÆ°ÁêÜÁ≥ªÁªü</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <!-- ÊêúÁ¥¢Ê°Ü -->
        <div class="search-box">
            <input 
                type="text" 
                v-model="searchText" 
                placeholder="üîç ÊêúÁ¥¢ÂêçÁß∞ÊàñÊ†áÁ≠æ..."
                class="search-input"
            >
        </div>

        <!-- ÂàÜÁ±ªÊ†áÁ≠æÁ≠õÈÄâÂå∫ -->
        <div class="category-filter">
            <!-- ÈáçÂ∫¶ÂàÜÁ±ª -->
            <div class="category-group">
                <h3 class="category-title">üéöÔ∏è ÊÉ≥Áé©‰ªÄ‰πàÈáçÂ∫¶ÁöÑÔºü</h3>
                <div class="tags">
                    <span
                        v-for="weight in categories['ÈáçÂ∫¶']"
                        :key="weight"
                        class="tag weight-tag"
                        :class="{ 'active': selectedCategories['ÈáçÂ∫¶'] === weight }"
                        @click="toggleCategoryFilter('ÈáçÂ∫¶', weight)"
                    >
                        {{ weight }}
                    </span>
                </div>
            </div>

            <!-- ‰∏ªÈ¢òÂàÜÁ±ª -->
            <div class="category-group">
                <h3 class="category-title">üåç ÂñúÊ¨¢‰ªÄ‰πà‰∏ªÈ¢òÔºü</h3>
                <div class="tags">
                    <span
                        v-for="theme in categories['‰∏ªÈ¢ò']"
                        :key="theme"
                        class="tag theme-tag"
                        :class="{ 'active': selectedCategories['‰∏ªÈ¢ò'] === theme }"
                        @click="toggleCategoryFilter('‰∏ªÈ¢ò', theme)"
                    >
                        {{ theme }}
                    </span>
                </div>
            </div>

            <!-- Êú∫Âà∂ÂàÜÁ±ª -->
            <div class="category-group">
                <h3 class="category-title">‚öôÔ∏è ÊÉ≥Áé©‰ªÄ‰πàÊú∫Âà∂Ôºü</h3>
                <div class="tags">
                    <span
                        v-for="mechanic in categories['Êú∫Âà∂']"
                        :key="mechanic"
                        class="tag mechanic-tag"
                        :class="{ 'active': selectedCategories['Êú∫Âà∂'] === mechanic }"
                        @click="toggleCategoryFilter('Êú∫Âà∂', mechanic)"
                    >
                        {{ mechanic }}
                    </span>
                </div>
            </div>
        </div>

        <!-- ÂΩìÂâçÁ≠õÈÄâÁä∂ÊÄÅ -->
        <div class="active-filters">
            <div v-if="hasActiveFilters" class="active-tags">
                ÂΩìÂâçÁ≠õÈÄâÊù°‰ª∂Ôºö
                <span
                    v-for="(value, category) in selectedCategories"
                    v-if="value"
                    class="active-tag"
                    :class="category + '-tag'"
                    @click="clearCategoryFilter(category)"
                >
                    {{ category }}: {{ value }} √ó
                </span>
                <span 
                    v-for="tag in Array.from(selectedTags)"
                    class="active-tag"
                    @click="toggleTag(tag)"
                >
                    {{ tag }} √ó
                </span>
            </div>
        </div>

        <!-- Ê∏∏ÊàèÂàóË°® -->
        <div class="game-list">
            <div 
                v-for="game in filteredGames"
                class="game-card"
                :class="{ 'dimmed': !isGameVisible(game) }"
            >
                <img 
                    :src="game.Â∞ÅÈù¢ÂõæURL" 
                    :alt="game.ÂêçÁß∞" 
                    class="game-cover"
                >
                <div class="game-info">
                    <h3>{{ game.ÂêçÁß∞ }}</h3>
                    <div class="meta-info">
                        <span>üë• {{ game.‰∫∫Êï∞ }}</span>
                        <span>‚è≥ {{ game.Êó∂Èïø }}</span>
                        <span>‚≠ê {{ game.ÈöæÂ∫¶ }}</span>
                    </div>
                    
                    <!-- Ê∏∏ÊàèÊ†áÁ≠æÂ±ïÁ§∫ -->
                    <div class="game-tags">
                        <span 
                            v-for="(tags, category) in gameCategories(game)"
                            :key="category"
                            class="tag"
                            :class="[category + '-tag']"
                        >
                            {{ tags.join(' ¬∑ ') }}
                        </span>
                        <span 
                            v-for="(tag, index) in game.Ê†áÁ≠æ"
                            :key="index"
                            class="tag custom-tag"
                            @click="toggleTag(tag)"
                        >
                            {{ tag }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>